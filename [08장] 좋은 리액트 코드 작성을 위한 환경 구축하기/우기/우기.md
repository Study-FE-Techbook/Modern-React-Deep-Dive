# 8. ì¢‹ì€ ë¦¬ì•¡íŠ¸ ì½”ë“œ ì‘ì„±ì„ ìœ„í•œ í™˜ê²½ êµ¬ì¶•í•˜ê¸°

**ì¢‹ì€ ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ìœ„í•œ ESLintì™€ ë¦¬ì•¡íŠ¸ í…ŒìŠ¤íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì•Œì•„ë³´ì**

<br>

## 8.1 ESLintë¥¼ í™œìš©í•œ ì •ì  ì½”ë“œ ë¶„ì„

### âœ¨ JS ìƒíƒœê³„ì—ì„œ ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ëŠ” ì •ì  ì½”ë“œ ë¶„ì„ ë„êµ¬ ESLintì— ëŒ€í•´ ì•Œì•„ë´…ì„¸~

<br>

### 8.1.1 ESLint ì‚´í´ë³´ê¸°

---

### ğŸ”– ESLint ì–´ë–»ê²Œ ì´ë ‡ê²Œ ìŒˆ@ë½•í•˜ê²Œ JS ì½”ë“œë¥¼ ë¶„ì„í•˜ëŠ” ê±¸ê¹Œ?

- JSì½”ë“œë¥¼ ë¬¸ìì—´ë¡œ ì½ëŠ”ë‹¤.

- JS ì½”ë“œë¥¼ ë¶„ì„ ê°€ëŠ¥í•œ íŒŒì„œ(parser)ë¡œ ì½”ë“œë¥¼ êµ¬ì¡°í™”í•œë‹¤.

- êµ¬ì¡°í™”í•œ AST(Abstract Syntax Tree)ë¼ í•˜ê³ , ì´ë¥¼ ê°ì¢… ê·œì¹™ê³¼ ëŒ€ì¡°í•œë‹¤.

- ê·œì¹™ ìœ„ë°˜ ì½”ë“œë¥¼ ì•Œë¦¬ê±°ë‚˜ ìˆ˜ì •í•œë‹¤.

### ğŸ–¥ï¸ ì½”ë“œ ë³€í™˜ í†ºì•„ë³´ê¸°

```jsx
const handleCancelClick = () => {
  setIsEditing(false);
  setRenewalTime(!renewalTime);
  cancelModalOff();
  updateFormData();
};
```

```js
{
  "type": "Program",
  "start": 0,
  "end": 322,                 // ì½”ë“œ ì‹œì‘
  "body": [
    {
      "type": "VariableDeclaration",
      "start": 181,
      "end": 322,
      "declarations": [
        {
          "type": "VariableDeclarator",
          "start": 187,                   // const ëº€ ë‚˜ë¨¸ì§€
          "end": 321,
          "id": {
            "type": "Identifier",
            "start": 187,
            "end": 204,                     // í•¨ìˆ˜ ì´ë¦„
            "name": "handleCancelClick"
          },
          "init": {
            "type": "ArrowFunctionExpression",
            "start": 207,                     // í™”ì‚´í‘œ í•¨ìˆ˜ì„ì„ ì˜ë¯¸
            "end": 321,
            "id": null,
            "expression": false,
            "generator": false,
            "async": false,
            "params": [],
            "body": {
              "type": "BlockStatement",
              "start": 213,
              "end": 321,                     // {} ë¸”ë¡ ìŠ¤í…Œì´íŠ¸ ì‹œì‘
              "body": [
                {
                  "type": "ExpressionStatement",
                  "start": 219,
                  "end": 239,
                  "expression": {
                    "type": "CallExpression",
                    "start": 219,
                    "end": 238,
                    "callee": {
                      "type": "Identifier",
                      "start": 219,
                      "end": 231,
                      "name": "setIsEditing"    // setIsEditing ì‹¤í–‰ ë¶€ë¶„
                    },
                    "arguments": [
                      {
                        "type": "Literal",
                        "start": 232,
                        "end": 237,
                        "value": false,
                        "raw": "false"
                      }
                    ],
                    "optional": false
                  }
                },
                {
                  "type": "ExpressionStatement",
                  "start": 244,
                  "end": 273,
                  "expression": {
                    "type": "CallExpression",
                    "start": 244,
                    "end": 272,
                    "callee": {
                      "type": "Identifier",
                      "start": 244,
                      "end": 258,
                      "name": "setRenewalTime"      // setRenewalTime ì‹¤í–‰ ë¶€ë¶„
                    },
                    "arguments": [
                      {
                        "type": "UnaryExpression",
                        "start": 259,
                        "end": 271,
                        "operator": "!",
                        "prefix": true,
                        "argument": {
                          "type": "Identifier",
                          "start": 260,
                          "end": 271,
                          "name": "renewalTime"     // setRenewalTimeì— ë“¤ì–´ê°„ ì¸ìˆ˜
                        }
                      }
                    ],
                    "optional": false
                  }
                },
                {
                  "type": "ExpressionStatement",
                  "start": 278,
                  "end": 295,
                  "expression": {
                    "type": "CallExpression",
                    "start": 278,
                    "end": 294,
                    "callee": {
                      "type": "Identifier",
                      "start": 278,
                      "end": 292,
                      "name": "cancelModalOff"          // cancelModalOff ì‹¤í–‰ ë¶€ë¶„
                    },
                    "arguments": [],
                    "optional": false
                  }
                },
                {
                  "type": "ExpressionStatement",
                  "start": 300,
                  "end": 317,
                  "expression": {
                    "type": "CallExpression",
                    "start": 300,
                    "end": 316,
                    "callee": {
                      "type": "Identifier",
                      "start": 300,
                      "end": 314,
                      "name": "updateFormData"            // updateFormData ì‹¤í–‰ ë¶€ë¶„
                    },
                    "arguments": [],
                    "optional": false
                  }
                }
              ]
            }
          }
        }
      ],
      "kind": "const"
    }
  ],
  "sourceType": "module"
}
```

### ğŸ“š `espree` ì½”ë“œ ë¶„ì„ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ESLintê°€ ë­˜ ìˆ˜ì •í•˜ê³  ë³€ê²½í• ì§€ ê²°ì •

```js
module.export = {
  meta: {
    type: "problem",
    docs: {
      description: "Disallow the use of `debugger`",
      recommended: true,
    },
    fixable: null, // ì½”ë“œ ìˆ˜ì • ë¶ˆê°€
    schema: [], // ì˜µì…˜ ë¯¸ì„¤ì •
  },
  create(context) {
    // ì‹¤ì œ ì½”ë“œì—ì„œ ë¬¸ì œì  í™•ì¸
    return {
      DebuggerStatement(node) {
        context.report({
          // debuggerStatement í™•ì¸ í›„ ë¦¬í¿
          node,
          message: "Unexpected 'debugger' statement.",
          fix: function (fixer) {
            return fixer.remove(node);
          },
        });
      },
    };
  },
};
```

<br>

### 8.1.2 eslint-pluginê³¼ eslint-config

---

- `eslint-plugin` ì€ ì–¸ê¸‰í–ˆë˜ ê·œì¹™ë“¤ì„ ëª¨ì•„ë†“ì€ íŒ¨í‚¤ì§€ì´ë©°, ëŒ€ì‹œ(-)ë¥¼ ë’¤ì— ë¶™ì—¬ ë‹¤ì–‘í•œ ìƒí™©ì— í•´ë‹¹í•˜ëŠ” ê·œì¹™ë“¤ì„ ì œê³µí•œë‹¤.

```bash
eslintrc
â”œâ”€ conf
â”‚  â”œâ”€ config-schema.js
â”‚  â””â”€ environments.js
â”œâ”€ dist
â”‚  â”œâ”€ eslintrc-universal.cjs
â”‚  â”œâ”€ eslintrc-universal.cjs.map
â”‚  â”œâ”€ eslintrc.cjs
â”‚  â””â”€ eslintrc.cjs.map
â”œâ”€ lib
â”‚  â”œâ”€ config-array
â”‚  â”‚  â”œâ”€ config-array.js
â”‚  â”‚  â”œâ”€ config-dependency.js
â”‚  â”‚  â”œâ”€ extracted-config.js
â”‚  â”‚  â”œâ”€ ignore-pattern.js
â”‚  â”‚  â”œâ”€ index.js
â”‚  â”‚  â””â”€ override-tester.js
â”‚  â”œâ”€ shared
â”‚  â”‚  â”œâ”€ ajv.js
â”‚  â”‚  â”œâ”€ config-ops.js
â”‚  â”‚  â”œâ”€ config-validator.js
â”‚  â”‚  â”œâ”€ deprecation-warnings.js
â”‚  â”‚  â”œâ”€ naming.js
â”‚  â”‚  â”œâ”€ relative-module-resolver.js
â”‚  â”‚  â””â”€ types.js
â”‚  â”œâ”€ cascading-config-array-factory.js
â”‚  â”œâ”€ config-array-factory.js
â”‚  â”œâ”€ flat-compat.js
â”‚  â”œâ”€ index-universal.js
â”‚  â””â”€ index.js
â”œâ”€ LICENSE
â”œâ”€ package.json
â”œâ”€ README.md
â””â”€ universal.js
```

- `eslint-config` ëŠ” ìœ„ì˜ `eslint-plugin` ì˜ ë¬¶ìŒ íŒë§¤ íŒ¨í‚¤ì§€ë¼ê³  ë³¼ ìˆ˜ ìˆìœ¼ë©°, ì´ëŠ” ì—¬ëŸ¬ í”„ë¡œì íŠ¸ì— ê±¸ì³ ë™ì¼í•˜ê²Œ ì‚¬ìš© ê°€ëŠ¥í•œ ESLint ê´€ë ¨ ì„¤ì •ì„ ì œê³µí•œë‹¤.

```js
{
  "parser": "@typescript-eslint/parser",
  "extends": [
    "next/core-web-vitals",
    "next",
    "eslint:recommended",
    "plugin:import/recommended",
    "plugin:import/typescript",
    "plugin:@typescript-eslint/recommended",
    "plugin:react-hooks/recommended",
    "plugin:tailwindcss/recommended",
    "prettier"
  ],
  "plugins": ["import", "@typescript-eslint", "react-hooks", "tailwindcss", "prefer-arrow"],
  "rules": {
    "import/order": [
      "error",
      {
        "groups": [
          "external", // ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬
          "builtin", // Node.js ë‚´ì¥ ëª¨ë“ˆ
          "internal", // ê²½ë¡œ ë³„ì¹­ (@)
          "parent", // ë¶€ëª¨ ê²½ë¡œ (..)
          "sibling", // ê°™ì€ ê²½ë¡œ (./)
          "index", // í˜„ì¬ ë””ë ‰í† ë¦¬ (./)
          "object"
        ],
        "pathGroups": [
          {
            "pattern": "react*",
            "group": "external",
            "position": "before"
          }
        ],
        "pathGroupsExcludedImportTypes": ["react*"]
      }
    ],
    "arrow-body-style": ["error", "always"],
    "curly": ["error"],
    "max-depth": ["error", 4],
    "import/export": "warn",
    "react/react-in-jsx-scope": "off",
    "prefer-arrow/prefer-arrow-functions": [
      "error",
      {
        "disallowPrototype": true,
        "singleReturnOnly": false,
        "classPropertiesAllowed": false
      }
    ]
  },
  "settings": {
    "import/resolver": {
      "typescript": true
    }
  }
}
```

### ğŸ‘ ì›ë˜ ì§ì ‘ ë§Œë“œëŠ” ê²ƒë³´ë‹¤ ë‚¨ì´ í•´ì¤€ ìš”ë¦¬ê°€ ë” ë§›ìˆë‹¤.

- ê°œë°œìê°€ ì§ì ‘ íŒ¨í‚¤ì§€ë¥¼ ì§œëŠ” ê²½ìš°ëŠ” ê±°ì˜ ì—†ê³ , ì¼ë¶€ IT ê¸°ì—…ì—ì„œ ë§Œë“¤ì–´ë‘” í…œí”Œë¦¿ë“¤ì„ í™œìš©í•˜ëŠ” ëŠë‚Œìœ¼ë¡œ ë§ì´ ì‚¬ìš©í•œë‹¤.

### ê°œì¶”! (ê°œë°œì ì¶”ì²œ)

- `eslint-config-airbnb`

  - ê°€ì¥ ëŒ€ì¤‘ì ì¸ `eslint-config` í…œí”Œë¦¿ì´ë‹¤.

- `titicaca/tripole-config-kit`

  - ìœ ì§€ë³´ìˆ˜ê°€ í™œë°œí•œ í¸ì— ì†í•˜ëŠ” `config` ì´ë©°, airbnbì˜ `config` ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ì§€ ì•ŠëŠ”ë°ë„ ë¶ˆêµ¬í•˜ê³  ì™ ë§Œí•œ ê·œì¹™ì„ ì œê³µí•˜ì—¬ ì‚¬ìš© ì‹œ í° ì§€ì¥ì´ ì—†ë‹¤.

  - ë˜í•œ ì™¸ë¶€ ì œê³µ ê·œì¹™ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì¡´ì¬í•˜ì—¬ ê° í™˜ê²½ì— ë§ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

- `eslint-config-next`

  - `Next.js` ë¥¼ ì´ìš©í•œ í”„ë¡œì íŠ¸ëŠ” ê·¸ëƒ¥ ì´ë†ˆ ì“°ì.

<br>

### 8.1.3 ë‚˜ë§Œì˜ ESLint ê·œì¹™ ë§Œë“¤ê¸°

---

### ğŸ”– ë‚˜ë§Œì˜ ESLint ê·œì¹™ì„ ë§Œë“¤ì–´ ë‚˜ì—ê²Œ ê°€ì¥ ìµìˆ™í•œ ê·œì¹™ìœ¼ë¡œ ì½”ë“œë¥¼ ì‘ì„±í•˜ì

- ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ê·œì¹™ì„ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•˜ì—¬ ì ìš©í•˜ëŠ” ê²ƒì€ ë§¤ìš° ìœ ìš©í•˜ë‹¤.

```js
// no improt react
module.exports = {
  rules: {
    'no-restricted-imports' : [
      'error',
      {
        path: [
          {
            name: 'react',
            importNames: ['default'] // import reactë§Œ ì œì™¸í•˜ê¸° ìœ„í•¨
            message: 'ì´ì œë¶€í„´ import reactëŠ” ì•ˆí•´ë„ ë¼!'
          }
        ]
      }
    ]
  }
}
```

- ì•„ì˜ˆ ìƒˆë¡œìš´ ë‚˜ë§Œì˜ ê·œì¹™ì„ ë§Œë“¤ ìˆ˜ë„ ìˆë‹¤.

```js
// new Date ê¸ˆì§€í•˜ê¸°
module.exports = {
  meta: {
    type: "problem",
    docs: {
      description: "Disallow use of `new Date()` without arguments",
      category: "Possible Errors",
      recommended: false,
    },
    fixable: "code", // ì½”ë“œ ìˆ˜ì • ê°€ëŠ¥
    schema: [], // ì˜µì…˜ ë¯¸ì„¤ì •
  },
  create(context) {
    return {
      NewExpression(node) {
        if (node.callee.name === "Date" && node.arguments.length === 0) {
          // ì½”ë“œ ê°ì²´ì˜ ì´ë¦„ì´ Dateì„ê³¼ ë™ì‹œì— ì¸ìˆ˜ì˜ ê¸¸ì´ê°€ 0ì¼ ê²½ìš°
          context.report({
            node,
            message: "Use of `new Date()` without arguments is not allowed.",
            fix: function (fixer) {
              // ìë™ ìˆ˜ì •: `new Date()`ë¥¼ `new Date(/* specify arguments */)`ë¡œ ë³€ê²½
              return fixer.replaceText(node, "new Date(/* specify arguments */)");
            },
          });
        }
      },
    };
  },
};
```

### ğŸ“‚ ë§Œë“  ê·œì¹™ë“¤ì„ ë°°í¬í•´ë³´ì!

- ë¨¼ì € `yo`ì™€ `generate-eslint` ë¥¼ í™œìš©í•´ `eslint-plugin` êµ¬ì„± í™˜ê²½ì„ ë§Œë“ ë‹¤.

- êµ¬ì„±ëœ ë””ë ‰í† ë¦¬ ë° íŒŒì¼ì—ì„œ `rules/no-new-date.js` íŒŒì¼ì„ ì—´ê³  ì•ì—ì„œ ì‘ì„±í•œ ê·œì¹™ì„ ë¶™ì—¬ë„£ëŠ”ë‹¤.

- `npm publish` ë¡œ ë°°í¬í•˜ê³  ì›í•˜ëŠ” í”„ë¡œì íŠ¸ì— ì„¤ì¹˜ ë° ì‚¬ìš©í•œë‹¤.

<br>

### 8.1.4 ì£¼ì˜í•  ì 

---

### ğŸ”– ì˜ëª» ì„¤ì •í•˜ë©´ ì›ì¹˜ ì•ŠëŠ” ê²°ê³¼ê°€ ë‚˜ì˜¨ë‹¤.

- ì½”ë“œì˜ í¬ë©”íŒ…ì„ ë•ëŠ” `Prettier` ê³¼ì˜ ì¶©ëŒì´ ì¼ì–´ë‚  ìˆ˜ ìˆìœ¼ë¯€ë¡œ í•­ìƒ ì£¼ì˜í•´ì•¼ í•œë‹¤.

  - ì„œë¡œ ì¶©ëŒí•˜ì§€ ì•Šê²Œë” ê·œì¹™ì„ ì˜ ì„¤ì •í•œë‹¤.

  - JS, TSëŠ” ESLintì— ë§¡ê¸°ê³ , ê·¸ ì™¸ëŠ” `Prettier` ì— ë§¡ê¸´ë‹¤.

- íŠ¹ì • ê·œì¹™ì„ ì„ì‹œë¡œ ì œì™¸í•˜ê³  ì‹¶ì€ ê²½ìš° `react-hooks/no-exhaustive-deps` ì£¼ì„ì„ ì‚¬ìš©í•œë‹¤.

  - ëª¨ë“  ê·œì¹™ì€ ì¡´ì¬í•˜ëŠ” ì´ìœ ê°€ ìˆìœ¼ë‹ˆê¹Œ í•‘ê³„ëŒ€ì§€ ë§ê³  ì˜ ì ê²€í•˜ê³  ì‚¬ìš©í•˜ì

- ESLint ë²„ì „ì´ ì¶©ëŒí•˜ì—¬ ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆë‹¤.

  - ì„¤ì¹˜í•˜ê³ ì í•˜ëŠ” `config` ë°‘ `plugin` ë° í”„ë¡œì íŠ¸ê°€ ì§€ì›í•˜ëŠ” ë²„ì „ì„ ì˜ í™•ì¸í•´ì•¼í•œë‹¤.

<br>

### 8.1.5 ì±… ì •ë¦¬ + ì£¼ê´€ì ì¸ ì •ë¦¬

### ğŸ”– ì±… ì •ë¦¬

- ESLintëŠ” ê°œë°œìì˜ ìˆŸê°€ë½ê³¼ë„ ê°™ë‹¤.

- ì˜ ì •ë¦¬ëœ ê·œì¹™ì„ ì‚¬ìš©í•˜ê±°ë‚˜ ì§ì ‘ ì»¤ìŠ¤í…€í•˜ëŠ” ë“± ììœ ë„ê°€ ë†’ì§€ë§Œ ê·¸ë§Œí¼ ì•Œë§ê²Œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

- ìµìˆ™í•´ì§„ë‹¤ë©´ ë³¸ì¸ë§Œì˜ `eslint-config`ë¥¼ ë§Œë“¤ì–´ë³´ëŠ” ê²ƒë„ í° ë„ì›€ì´ ë  ê²ƒì´ë‹¤.

### ğŸ·ï¸ ì£¼ê´€ì ì¸ ì •ë¦¬

- ESLintëŠ” í•­ìƒ ê°€ê¹Œì´ ìˆìœ¼ë‚˜ ë§‰ìƒ ë³´ë©´ ì–´ìƒ‰í•œ ì¹œêµ¬ë¼ê³  ìƒê°í•œë‹¤.

- ESLintì˜ ê·œì¹™ë“¤ì€ ëª¨ë‘ ì¡´ì¬í•˜ëŠ” ì´ìœ ê°€ ìˆìœ¼ë¯€ë¡œ, í•­ìƒ ì‹ ê²½ì“°ë©° ì˜ ì‚¬ìš©í•˜ì.
