# 9. ëª¨ë˜ ë¦¬ì•¡íŠ¸ ê°œë°œ ë„êµ¬ë¡œ ê°œë°œ ë° ë°°í¬ í™˜ê²½ êµ¬ì¶•í•˜ê¸°

**ë¬´ì—ì„œ ìœ ë¥¼ ì°½ì¡°í•˜ëŠ” ê²ƒì€ ê²ë‚˜ ì–´ë µë‹¤.**

<br>

## 9.1 Next.jsë¡œ ë¦¬ì•¡íŠ¸ ê°œë°œ í™˜ê²½ êµ¬ì¶•í•˜ê¸°

### âœ¨ CLIëŠ” ë¹ ë¥´ê³  ì‰½ê²Œ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•  ìˆ˜ ìˆì§€ë§Œ í”„ë¡œì íŠ¸ ìì²´ë¥¼ ì´í•´í•˜ëŠ”ë°ì— ë„ì›€ì„ ì£¼ì§€ ì•ŠëŠ”ë‹¤.

- ë§ì€ ê°œë°œìê°€ ì‚¬ìš©í•´ì˜¨ `create-react-app` ê³¼ ê°™ì€ ë”ì´ìƒ ìœ ì§€ë³´ìˆ˜ ë˜ì§€ ì•Šê³  ë‹¨ìˆœíˆ ë¦¬ì•¡íŠ¸ ê¸°ë°˜ í”„ë ˆì„ì›Œí¬ì˜ ì‚¬ìš©ì„ ì œì•ˆí•˜ëŠ” ëŸ°ì²˜ í˜•íƒœë¡œ ë³€ê²½ë  ê°€ëŠ¥ì„±ì´ í¬ë‹¤.

<br>

### create-react-app ì—†ì´ ì§ì ‘ êµ¬ì¶•í•˜ê¸°

---

<br>

```bash
npm init

npm i react react-dom next

npm i @types/node @types/react @types/react-dom eslint eslint-config-next typescript --save-dev
```

- ë²ˆì™¸ì ìœ¼ë¡œ `--save-dev` ëŠ” í•´ë‹¹ íŒ¨í‚¤ì§€ë¥¼ `devDependencies` ì— ì¶”ê°€í•œë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤. (ê°œë°œ ëª¨ë“œì—ì„œë§Œ ì‚¬ìš©)

<br>

### tsconfig.json ì‘ì„±

```bash
{
  "$schema": "https://json.schemastore.org/tsconfig",
  "compilerOptions": {
    "target": "ES5",
    "lib": ["DOM", "DOM.Iterable", "ESNext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "forceConsistentCasingInFileNames": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "ESNext",
    "moduleResolution": "node",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "preserve",
    "incremental": true,
    "baseUrl": "src",
    "paths": {
      "#pages/*": ["/pages/*"],
      "#hooks/*": ["/pages/*"],
      "#types/*": ["/types/*"],
      "#components": ["/components/*"],
      "#utils/*": ["/utils/*"]
    }
  },
  "include": ["next-env.d.ts", "**/*.ts", "**/*.tsx"],
  "exclude": ["node_modules"]
}

```

- [ì°¸ê³ ](https://www.typescriptlang.org/tsconfig/)

<br>

### next.config.js ì‘ì„±í•˜ê¸°

---

<br>

```js
/** type {import('next').NextConfig} */
const nextConfig = {
  reactStrictMode: true,
  poweredByHeader: false,
  eslint: {
    ignoreDuringBuilds: true,
  },
};

module.export = nextConfig;
```

- ê¹ƒí—ˆë¸Œ Next.js ë ˆí¬ì§€í† ë¦¬ì—ì„œ ë” ë§ì€ ì˜µì…˜ í™•ì¸ ê°€ëŠ¥

<br>

### 9.1.4 ESLint, Prettier ì„¤ì •í•˜ê¸°

<br>

```js
const path = require("path");

const createConfig = require("@titicaca/eslint-config-triple/create-config");

const { extends: extendConfigs, overrides } = createConfig({
  type: "frontend",
  project: path.resolve(__dirnamem, "./tsconfig.json"),
});

module.exports = {
  extends: [...extendConfigs, "next/core-web-vitals"],
  overrides,
};
```

- ì§€ë‚œ ë‹¨ì›ì—ì„œ í™•ì¸í–ˆë˜ ë‚¨ì´ ë§Œë“¤ì–´ì£¼ëŠ” ìš”ë¦¬ ì¤‘ í•˜ë‚˜ì¸ `eslint-config-tripple` ì„ í™œìš©í•œë‹¤.

- `eslint-config-next` ì™€ ì¶©ëŒí•  ìˆ˜ ìˆì–´ ë”°ë¡œ ì„¤ì •í•´ì£¼ì–´ì•¼í•œë‹¤.

<br>

### ì •ë¦¬

- ì§ì ‘ì ìœ¼ë¡œ ìœ„ì™€ ê°™ì´ ì—¬ëŸ¬ íŒŒì¼ì„ ì„¸íŒ…í•´ë³´ëŠ” ê²½í—˜ì„ ìŒ“ëŠ”ë‹¤ë©´ `Next.js`ë‚˜ `typescript` ì— ëŒ€í•œ ë§ì€ ë‚´ìš©ì„ ë°°ìš¸ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.

- ê¹ƒí—ˆë¸Œë¥¼ í™œìš©í•˜ì—¬ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ ë•Œ, `Templete repository` ì˜µì…˜ì„ ì„¤ì •í•´ë‘ë©´ ì¶”í›„ì— ë‹¤ë¥¸ í”„ë¡œì íŠ¸ ìƒì„± ì‹œ ì˜µì…˜ì„ ì²´í¬í–ˆë˜ í”„ë¡œì íŠ¸ì˜ ë‚´ìš©ì‘ ëª¨ë‘ ë³µì‚¬í•˜ì—¬ ìƒì„±ì´ ê°€ëŠ¥í•˜ë‹¤.

- `create-next-app` ê³¼ ê°™ì€ ë‚˜ë§Œì˜ `create-***-app` ì„ ë§Œë“¤ì–´ ë³´ëŠ” ê²ƒë„ ë„ì›€ì´ ëœë‹¤.

<br>

## 9.2 ê¹ƒí—ˆë¸Œ 100% í™œìš©í•˜ê¸°

### âœ¨ ê¹ƒí—ˆë¸Œì—ì„œ ì œê³µí•˜ëŠ” ë‹¤ì–‘í•œ ì„œë¹„ìŠ¤ë¥¼ í™œìš©í•˜ì—¬ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì„ ë”ìš± í’ë¶€í•˜ê²Œ í•´ë³´ì

<br>

### ê¹ƒí—ˆë¸Œ ì•¡ì…˜ìœ¼ë¡œ CI í™˜ê²½ êµ¬ì¶•í•˜ê¸°

---

### ğŸ”– CIë€ ë¬´ì—‡ì¸ê°€?

- CI(Continuous Integration)ì€ ì—¬ëŸ¬ ê¸°ì—¬ìê°€ ê¸°ì—¬í•œ ì½”ë“œë¥¼ ì§€ì†ì ìœ¼ë¡œ ë¹Œë“œ ë° í…ŒìŠ¤íŠ¸í•´ ì½”ë“œì˜ ì •í•©ì„±ì„ í™•ì¸í•˜ëŠ” ê²ƒ.

- ê³¼ê±°ì—” ì´ëŸ¬í•œ CI í™˜ê²½ êµ¬ì¶•ì„ ìœ„í•´ **Jenkins**ê°€ ì‚¬ìš©ë˜ì—ˆì§€ë§Œ, ìµœê·¼ì— **ê¹ƒí—ˆë¸Œ ì•¡ì…˜**ì´ ë– ì˜¤ë¥´ëŠ” ì¶”ì„¸ì´ë‹¤.

### ğŸ·ï¸ ê¹ƒí—ˆë¸Œ ì•¡ì…˜ì˜ ê¸°ë³¸ ê°œë…

- ê¹ƒí—ˆë¸Œ ì•¡ì…˜ì€ ê¸°ë³¸ì ìœ¼ë¡œ **ëŸ¬ë„ˆ**, **ì•¡ì…˜**, **ì´ë²¤íŠ¸**, **ì¡**, **ìŠ¤í…**ì˜ ê°œë…ì„ ê°€ì§€ê³  ìˆìœ¼ë©° ê°ê°ì˜ ê°œë…ë“¤ì´ ë§ë¬¼ë ¤ ì´ë¥¼ êµ¬ì„±í•œë‹¤.

![ê¹ƒí—ˆë¸Œ ì•¡ì…˜](image.png)

```yaml
name: CI # ì•¡ì…˜ì˜ ì´ë¦„

on: # í•„ìˆ˜ ê°’, ì•¡ì…˜ ì‹¤í–‰ ì‹œì  ì •ì˜
  push:
    branches-ignore: # í•´ë‹¹ ì˜ˆì œì˜ ê²½ìš° prì„ ì˜¬ë¦°ë‹¤ëŠ” ê²ƒ ìì²´ê°€ mainìœ¼ë¡œ pushë¨ì„ ì˜ë¯¸í•˜ë¯€ë¡œ ì´ë ‡ê²Œ ì„¤ì •
      - main

jobs: # í•„ìˆ˜ ê°’, ìˆ˜í–‰í•  ì¡ ì„¤ì •
  build: # ì„ì˜ ì§€ì • ë„¤ì´ë°, nameê³¼ ê°™ì€ ì—­í• 
    runs-on: ubuntu-latest # ì–´ëŠ í™˜ê²½ì—ì„œ í•´ë‹¹ ì‘ì—…ì´ ì‹¤í–‰ë ì§€ ê²°ì •

    steps: # ìˆœì°¨ì ìœ¼ë¡œ ìˆ˜í–‰í•  ì‘ì—… ì •ì˜
      - uses: actions/checkout@v3 # í•´ë‹¹ ìŠ¤í…ì—ì„œ ì‚¬ìš©í•  ì‘ì—…
      - uses: actions/setup-node@v3
        with:
          node-version: 20

      - name: "install dependencies"
        working-directory: ./CI/src
        run: npm ci

      - name: "build"
        working-directory: ./CI/src
        run: npm run build
```

### ğŸ‘ github/actionì„ í™œìš©í•´ ë‹¤ì–‘í•œ ê¸°ëŠ¥ë“¤ì„ ì„¤ì •í•œ íŠ¸ë¦¬ê±°ë§ˆë‹¤ ì•Œë§ê²Œ ì‚¬ìš©í•´ë³´ì!
