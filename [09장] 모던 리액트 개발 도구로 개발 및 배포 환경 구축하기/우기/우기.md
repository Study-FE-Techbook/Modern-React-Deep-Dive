# 9. 모던 리액트 개발 도구로 개발 및 배포 환경 구축하기

**무에서 유를 창조하는 것은 겁나 어렵다.**

<br>

## 9.1 Next.js로 리액트 개발 환경 구축하기

### ✨ CLI는 빠르고 쉽게 프로젝트를 시작할 수 있지만 프로젝트 자체를 이해하는데에 도움을 주지 않는다.

- 많은 개발자가 사용해온 `create-react-app` 과 같은 더이상 유지보수 되지 않고 단순히 리액트 기반 프레임워크의 사용을 제안하는 런처 형태로 변경될 가능성이 크다.

<br>

### create-react-app 없이 직접 구축하기

---

<br>

```bash
npm init

npm i react react-dom next

npm i @types/node @types/react @types/react-dom eslint eslint-config-next typescript --save-dev
```

- 번외적으로 `--save-dev` 는 해당 패키지를 `devDependencies` 에 추가한다는 의미이다. (개발 모드에서만 사용)

<br>

### tsconfig.json 작성

```bash
{
  "$schema": "https://json.schemastore.org/tsconfig",
  "compilerOptions": {
    "target": "ES5",
    "lib": ["DOM", "DOM.Iterable", "ESNext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "forceConsistentCasingInFileNames": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "ESNext",
    "moduleResolution": "node",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "preserve",
    "incremental": true,
    "baseUrl": "src",
    "paths": {
      "#pages/*": ["/pages/*"],
      "#hooks/*": ["/pages/*"],
      "#types/*": ["/types/*"],
      "#components": ["/components/*"],
      "#utils/*": ["/utils/*"]
    }
  },
  "include": ["next-env.d.ts", "**/*.ts", "**/*.tsx"],
  "exclude": ["node_modules"]
}

```

- [참고](https://www.typescriptlang.org/tsconfig/)

<br>

### next.config.js 작성하기

---

<br>

```js
/** type {import('next').NextConfig} */
const nextConfig = {
  reactStrictMode: true,
  poweredByHeader: false,
  eslint: {
    ignoreDuringBuilds: true,
  },
};

module.export = nextConfig;
```

- 깃허브 Next.js 레포지토리에서 더 많은 옵션 확인 가능

<br>

### 9.1.4 ESLint, Prettier 설정하기

<br>

```js
const path = require("path");

const createConfig = require("@titicaca/eslint-config-triple/create-config");

const { extends: extendConfigs, overrides } = createConfig({
  type: "frontend",
  project: path.resolve(__dirnamem, "./tsconfig.json"),
});

module.exports = {
  extends: [...extendConfigs, "next/core-web-vitals"],
  overrides,
};
```

- 지난 단원에서 확인했던 남이 만들어주는 요리 중 하나인 `eslint-config-tripple` 을 활용한다.

- `eslint-config-next` 와 충돌할 수 있어 따로 설정해주어야한다.

<br>

### 정리

- 직접적으로 위와 같이 여러 파일을 세팅해보는 경험을 쌓는다면 `Next.js`나 `typescript` 에 대한 많은 내용을 배울 수 있을 것이다.

- 깃허브를 활용하여 프로젝트를 만들 때, `Templete repository` 옵션을 설정해두면 추후에 다른 프로젝트 생성 시 옵션을 체크했던 프로젝트의 내용응 모두 복사하여 생성이 가능하다.

- `create-next-app` 과 같은 나만의 `create-***-app` 을 만들어 보는 것도 도움이 된다.

<br>

## 9.2 깃허브 100% 활용하기

### ✨ 깃허브에서 제공하는 다양한 서비스를 활용하여 프론트엔드 개발을 더욱 풍부하게 해보자

<br>

### 깃허브 액션으로 CI 환경 구축하기

---

### 🔖 CI란 무엇인가?

- CI(Continuous Integration)은 여러 기여자가 기여한 코드를 지속적으로 빌드 및 테스트해 코드의 정합성을 확인하는 것.

- 과거엔 이러한 CI 환경 구축을 위해 **Jenkins**가 사용되었지만, 최근에 **깃허브 액션**이 떠오르는 추세이다.

### 🏷️ 깃허브 액션의 기본 개념

- 깃허브 액션은 기본적으로 **러너**, **액션**, **이벤트**, **잡**, **스텝**의 개념을 가지고 있으며 각각의 개념들이 맞물려 이를 구성한다.

![깃허브 액션](image.png)

```yaml
name: CI # 액션의 이름

on: # 필수 값, 액션 실행 시점 정의
  push:
    branches-ignore: # 해당 예제의 경우 pr을 올린다는 것 자체가 main으로 push됨을 의미하므로 이렇게 설정
      - main

jobs: # 필수 값, 수행할 잡 설정
  build: # 임의 지정 네이밍, name과 같은 역할
    runs-on: ubuntu-latest # 어느 환경에서 해당 작업이 실행될지 결정

    steps: # 순차적으로 수행할 작업 정의
      - uses: actions/checkout@v3 # 해당 스텝에서 사용할 작업
      - uses: actions/setup-node@v3
        with:
          node-version: 20

      - name: "install dependencies"
        working-directory: ./CI/src
        run: npm ci

      - name: "build"
        working-directory: ./CI/src
        run: npm run build
```

### 👍 github/action을 활용해 다양한 기능들을 설정한 트리거마다 알맞게 사용해보자!
